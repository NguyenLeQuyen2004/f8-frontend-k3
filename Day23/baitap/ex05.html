<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    const categories = [
    {
        id: 1,
        name: "Chuyên mục 1"
    },
    {
        id: 2,
        name: "Chuyên mục 2",
        children: [
            {
                id: 4,
                name: "Chuyên mục 2.1"
            },
            {
                id: 5,
                name: "Chuyên mục 2.2",
                children: [
                    {
                        id: 10,
                        name: "Chuyên mục 2.2.1"
                    },
                    {
                        id: 11,
                        name: "Chuyên mục 2.2.2"
                    },
                    {
                        id: 12,
                        name: "Chuyên mục 2.2.3"
                    }
                ]
            },
            {
                id: 6,
                name: "Chuyên mục 2.3"
            }
        ]
    },
    {
        id: 3,
        name: "Chuyên mục 3",
        children: [
            {
                id: 7,
                name: "Chuyên mục 3.1"
            },
            {
                id: 8,
                name: "Chuyên mục 3.2"
            },
            {
                id: 9,
                name: "Chuyên mục 3.3"
            }
        ]
    }
]

const html = categories.map(cate => {
    var child = 0
    var html = ''
    html += `<option value="">${cate.name}</option>`
    
    const loop = (element) => {
        ++child
        const handleLevel = child => {
            var level = ''
            for(var i = 1; i <= child; i++) {
                level += '--|'
            }
            return level
        }

        const level = handleLevel(child)
        
        for(var value of element) {
            html += `<option value="">${level}${value.name}</option>`
            handleCheck(value)
        }
    }

    const handleCheck = (element) => {
        if(element.children) {
            loop(element.children)
        }
    }
    
    handleCheck(cate)
    return html
}).join('')

document.write(
    `<select>
        <option value="" selected disabled hidden>Chọn chuyên mục</option>
        ${html}
    </select>`)
console.groupEnd()
    </script>
</body>
</html>